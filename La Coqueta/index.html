<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Coqueta - Encuesta y Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Poppins', sans-serif; background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 50%, #f3e8ff 100%); color: #374151; }
        h1, h2 { color: #be185d; }
        h3 { color: #1f2937; }
        .section-card, .card { background: rgba(255, 255, 255, 0.9); backdrop-filter: blur(10px); border: 1px solid rgba(255, 255, 255, 0.2); transition: all 0.2s ease-in-out; }
        .card:hover { transform: scale(1.02); box-shadow: 0 10px 20px rgba(0,0,0,0.1); }
        .custom-radio:checked + label, .custom-checkbox:checked + label { background: linear-gradient(135deg, #ec4899, #be185d); color: white; border-color: #be185d; transform: scale(1.02); }
        .custom-radio + label, .custom-checkbox + label { border: 2px solid #fce7f3; transition: all 0.2s ease-in-out; }
        .custom-radio + label:hover, .custom-checkbox + label:hover { border-color: #ec4899; transform: translateY(-2px); }
        .custom-checkbox:disabled + label { opacity: 0.5; cursor: not-allowed; transform: none; border-color: #fce7f3; }
        .progress-bar-inner { background: linear-gradient(135deg, #ec4899, #a21caf); transition: width 0.3s ease-in-out; }
        .floating-container { position: fixed; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; pointer-events: none; z-index: 0; }
        .float-element { position: absolute; animation: float-anim 6s ease-in-out infinite; }
        .heart { color: #fce7f3; font-size: 20px; }
        .dashboard-icon { color: rgba(236, 72, 153, 0.1); font-size: 24px; animation-duration: 8s; }
        @keyframes float-anim { 0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.3; } 50% { transform: translateY(-20px) rotate(180deg); opacity: 0.1; } }
        .sticky-header { position: sticky; top: 0; z-index: 30; background: linear-gradient(135deg, rgba(253, 242, 248, 0.9) 0%, rgba(252, 231, 243, 0.9) 50%, rgba(243, 232, 255, 0.9) 100%); backdrop-filter: blur(10px); padding-bottom: 1rem; }
        .hidden { display: none !important; }
        .gradient-button { background: linear-gradient(135deg, #ec4899, #a21caf); }
        .tab { transition: all 0.2s ease; border-bottom: 3px solid transparent; }
        .tab.active { border-bottom-color: #be185d; color: #be185d; }
    </style>
</head>
<body class="min-h-screen">

    <div id="survey-hearts" class="floating-container">
        </div>
    <div id="dashboard-icons" class="floating-container hidden">
        </div>
    <button id="admin-btn" title="Vista de Administrador" onclick="showAdminLogin()" class="fixed bottom-5 right-5 bg-gray-700 text-white w-14 h-14 rounded-full shadow-lg flex items-center justify-center z-40 hover:bg-gray-800 transition-colors"><span class="text-2xl">🔐</span></button>
    <div id="admin-login-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        </div>

    <div id="survey-view">
        </div>

    <div id="success-view" class="hidden">
        </div>
    
    <div id="admin-main-view" class="hidden container mx-auto px-4 py-8">
        <header class="flex justify-between items-center mb-8">
            <div><h1 class="text-4xl font-bold">Panel de Control</h1><p class="text-gray-600">Herramientas de Análisis y Decisión "La Coqueta"</p></div>
            <button onclick="exitAdminView()" class="bg-gray-200 text-gray-700 font-semibold py-2 px-4 rounded-lg hover:bg-gray-300">Salir</button>
        </header>

        <div class="mb-8 border-b-2 border-pink-100">
            <nav class="flex space-x-8">
                <button id="tab-bi" class="tab active py-4 px-1 font-semibold text-lg">Dashboard (BI)</button>
                <button id="tab-dss" class="tab py-4 px-1 font-semibold text-lg text-gray-500">Matriz de Decisión (DSS)</button>
            </nav>
        </div>

        <div id="dashboard-view">
            </div>

        <div id="matrix-view" class="hidden">
            <div class="section-card rounded-2xl p-6 md:p-8 mb-8 shadow-lg">
                <h2 class="text-2xl font-bold text-pink-600 mb-6">Matriz de Decisión: Perfil de Inventario Principal</h2>
                <div class="overflow-x-auto">
                    <table class="w-full text-left border-collapse">
                        <thead>
                            <tr class="bg-pink-50">
                                <th class="p-4 font-semibold border-b-2 border-pink-200">Criterios de Decisión (Peso)</th>
                                <th class="p-4 font-semibold border-b-2 border-pink-200 text-center">Opción A: Marcas Nacionales</th>
                                <th class="p-4 font-semibold border-b-2 border-pink-200 text-center">Opción B: Modelo Híbrido</th>
                                <th class="p-4 font-semibold border-b-2 border-pink-200 text-center">Opción C: Marcas Importadas</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="hover:bg-gray-50"><td class="p-4 border-b border-pink-100 font-medium">C1: Viabilidad Financiera (40%)</td><td class="p-4 border-b border-pink-100"><input type="number" min="1" max="10" id="score-a-c1" class="w-full p-2 text-center rounded-lg border-2 border-pink-200 focus:border-pink-500 focus:outline-none"></td><td class="p-4 border-b border-pink-100"><input type="number" min="1" max="10" id="score-b-c1" class="w-full p-2 text-center rounded-lg border-2 border-pink-200 focus:border-pink-500 focus:outline-none"></td><td class="p-4 border-b border-pink-100"><input type="number" min="1" max="10" id="score-c-c1" class="w-full p-2 text-center rounded-lg border-2 border-pink-200 focus:border-pink-500 focus:outline-none"></td></tr>
                            <tr class="hover:bg-gray-50"><td class="p-4 border-b border-pink-100 font-medium">C2: Alineación con Estilo (30%)</td><td class="p-4 border-b border-pink-100"><input type="number" min="1" max="10" id="score-a-c2" class="w-full p-2 text-center rounded-lg border-2 border-pink-200 focus:border-pink-500 focus:outline-none"></td><td class="p-4 border-b border-pink-100"><input type="number" min="1" max="10" id="score-b-c2" class="w-full p-2 text-center rounded-lg border-2 border-pink-200 focus:border-pink-500 focus:outline-none"></td><td class="p-4 border-b border-pink-100"><input type="number" min="1" max="10" id="score-c-c2" class="w-full p-2 text-center rounded-lg border-2 border-pink-200 focus:border-pink-500 focus:outline-none"></td></tr>
                            <tr class="hover:bg-gray-50"><td class="p-4 border-b border-pink-100 font-medium">C3: Demanda por Edad (20%)</td><td class="p-4 border-b border-pink-100"><input type="number" min="1" max="10" id="score-a-c3" class="w-full p-2 text-center rounded-lg border-2 border-pink-200 focus:border-pink-500 focus:outline-none"></td><td class="p-4 border-b border-pink-100"><input type="number" min="1" max="10" id="score-b-c3" class="w-full p-2 text-center rounded-lg border-2 border-pink-200 focus:border-pink-500 focus:outline-none"></td><td class="p-4 border-b border-pink-100"><input type="number" min="1" max="10" id="score-c-c3" class="w-full p-2 text-center rounded-lg border-2 border-pink-200 focus:border-pink-500 focus:outline-none"></td></tr>
                            <tr class="hover:bg-gray-50"><td class="p-4 border-b border-pink-100 font-medium">C4: Potencial de Marketing (10%)</td><td class="p-4 border-b border-pink-100"><input type="number" min="1" max="10" id="score-a-c4" class="w-full p-2 text-center rounded-lg border-2 border-pink-200 focus:border-pink-500 focus:outline-none"></td><td class="p-4 border-b border-pink-100"><input type="number" min="1" max="10" id="score-b-c4" class="w-full p-2 text-center rounded-lg border-2 border-pink-200 focus:border-pink-500 focus:outline-none"></td><td class="p-4 border-b border-pink-100"><input type="number" min="1" max="10" id="score-c-c4" class="w-full p-2 text-center rounded-lg border-2 border-pink-200 focus:border-pink-500 focus:outline-none"></td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section-card rounded-2xl p-6 md:p-8 shadow-lg">
                <h2 class="text-2xl font-bold text-pink-600 mb-6">Resultados y Recomendación</h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center">
                    <div class="bg-pink-50 p-6 rounded-lg border-2 border-pink-100"><h3 class="font-semibold text-lg mb-2">Puntaje Opción A</h3><p id="result-a" class="text-4xl font-bold text-pink-600">0.00</p></div>
                    <div class="bg-pink-50 p-6 rounded-lg border-2 border-pink-100"><h3 class="font-semibold text-lg mb-2">Puntaje Opción B</h3><p id="result-b" class="text-4xl font-bold text-pink-600">0.00</p></div>
                    <div class="bg-pink-50 p-6 rounded-lg border-2 border-pink-100"><h3 class="font-semibold text-lg mb-2">Puntaje Opción C</h3><p id="result-c" class="text-4xl font-bold text-pink-600">0.00</p></div>
                </div>
                <div class="mt-8 p-6 rounded-lg bg-emerald-50 border-2 border-emerald-200 text-center">
                    <h3 class="font-semibold text-xl text-emerald-800 mb-2">💡 Recomendación del Sistema</h3>
                    <p id="recommendation" class="text-2xl font-bold text-emerald-600">Introduce las puntuaciones para ver una recomendación.</p>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script src="./app.js"></script>
</body>
</html>
