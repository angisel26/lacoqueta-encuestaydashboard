<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>La Coqueta - Encuesta de Mercado</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 50%, #f3e8ff 100%);
            color: #374151;
        }
        h1, h2 { color: #be185d; }
        h3 { color: #1f2937; }
        .section-card, .card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.2s ease-in-out;
        }
        .card:hover {
            transform: scale(1.02);
            box-shadow: 0 10px 20px rgba(0,0,0,0.1);
        }
        .custom-radio:checked + label, .custom-checkbox:checked + label {
            background: linear-gradient(135deg, #ec4899, #be185d);
            color: white;
            border-color: #be185d;
            transform: scale(1.02);
        }
        .custom-radio + label, .custom-checkbox + label {
            border: 2px solid #fce7f3;
            transition: all 0.2s ease-in-out;
        }
        .custom-radio + label:hover, .custom-checkbox + label:hover {
            border-color: #ec4899;
            transform: translateY(-2px);
        }
        .custom-checkbox:disabled + label {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            border-color: #fce7f3;
        }
        .progress-bar-inner {
            background: linear-gradient(135deg, #ec4899, #a21caf);
            transition: width 0.3s ease-in-out;
        }
        .floating-container {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; pointer-events: none; z-index: 0;
        }
        .float-element {
            position: absolute;
            animation: float-anim 6s ease-in-out infinite;
        }
        .heart { color: #fce7f3; font-size: 20px; }
        .dashboard-icon { color: rgba(236, 72, 153, 0.1); font-size: 24px; animation-duration: 8s; }
        @keyframes float-anim {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.3; }
            50% { transform: translateY(-20px) rotate(180deg); opacity: 0.1; }
        }
        .sticky-header {
            position: sticky;
            top: 0;
            z-index: 30;
            background: linear-gradient(135deg, rgba(253, 242, 248, 0.9) 0%, rgba(252, 231, 243, 0.9) 50%, rgba(243, 232, 255, 0.9) 100%);
            backdrop-filter: blur(10px);
            padding-bottom: 1rem;
        }
        .hidden { display: none !important; }
        .gradient-button { background: linear-gradient(135deg, #ec4899, #a21caf); }
    </style>
</head>
<body class="min-h-screen">

    <div id="survey-hearts" class="floating-container">
        <div class="float-element heart" style="left: 10%; animation-delay: 0s;">ğŸ’•</div>
        <div class="float-element heart" style="left: 20%; animation-delay: 1s;">âœ¨</div>
        <div class="float-element heart" style="left: 30%; animation-delay: 2s;">ğŸ’–</div>
        <div class="float-element heart" style="left: 40%; animation-delay: 3s;">ğŸŒ¸</div>
        <div class="float-element heart" style="left: 50%; animation-delay: 4s;">ğŸ’•</div>
        <div class="float-element heart" style="left: 60%; animation-delay: 5s;">âœ¨</div>
        <div class="float-element heart" style="left: 70%; animation-delay: 1.5s;">ğŸ’–</div>
        <div class="float-element heart" style="left: 80%; animation-delay: 2.5s;">ğŸŒ¸</div>
        <div class="float-element heart" style="left: 90%; animation-delay: 3.5s;">ğŸ’•</div>
    </div>
    
    <div id="dashboard-icons" class="floating-container hidden">
        <div class="float-element dashboard-icon" style="left: 5%; top: 10%; animation-delay: 0s;">ğŸ“Š</div>
        <div class="float-element dashboard-icon" style="left: 15%; top: 60%; animation-delay: 1s;">ğŸ’</div>
        <div class="float-element dashboard-icon" style="left: 85%; top: 20%; animation-delay: 2s;">âœ¨</div>
        <div class="float-element dashboard-icon" style="left: 75%; top: 70%; animation-delay: 3s;">ğŸ‘—</div>
        <div class="float-element dashboard-icon" style="left: 45%; top: 5%; animation-delay: 4s;">ğŸ’–</div>
        <div class="float-element dashboard-icon" style="left: 25%; top: 85%; animation-delay: 5s;">ğŸŒ¸</div>
    </div>

    <button id="admin-btn" onclick="showAdminLogin()" class="fixed bottom-5 right-5 bg-gray-700 text-white w-14 h-14 rounded-full shadow-lg flex items-center justify-center z-40 hover:bg-gray-800 transition-colors">
        <span class="text-2xl">ğŸ”</span>
    </button>

    <div id="admin-login-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
        <div class="section-card rounded-2xl p-8 max-w-sm w-full mx-4 text-center">
            <h3 class="text-2xl font-bold mb-4">Acceso Administrativo</h3>
            <p class="text-gray-600 mb-6">Ingresa el PIN de 4 dÃ­gitos para continuar.</p>
            <div id="pin-inputs" class="flex justify-center space-x-3 mb-6">
                <input type="password" maxlength="1" class="w-14 h-14 text-center text-2xl font-bold border-2 border-pink-200 rounded-lg focus:border-pink-500 focus:outline-none transition-colors">
                <input type="password" maxlength="1" class="w-14 h-14 text-center text-2xl font-bold border-2 border-pink-200 rounded-lg focus:border-pink-500 focus:outline-none transition-colors">
                <input type="password" maxlength="1" class="w-14 h-14 text-center text-2xl font-bold border-2 border-pink-200 rounded-lg focus:border-pink-500 focus:outline-none transition-colors">
                <input type="password" maxlength="1" class="w-14 h-14 text-center text-2xl font-bold border-2 border-pink-200 rounded-lg focus:border-pink-500 focus:outline-none transition-colors">
            </div>
            <p id="pin-error" class="text-red-500 mb-4 hidden">PIN incorrecto. IntÃ©ntalo de nuevo.</p>
            <div class="flex space-x-4">
                <button onclick="closeAdminLogin()" class="flex-1 bg-gray-200 text-gray-700 py-3 rounded-lg font-semibold hover:bg-gray-300 transition-colors">Cancelar</button>
                <button onclick="verifyAdminPin()" class="flex-1 gradient-button text-white py-3 rounded-lg font-semibold shadow-lg hover:shadow-xl transition-shadow">Ingresar</button>
            </div>
        </div>
    </div>

    <div id="survey-view">
        <div class="sticky-header">
            <header class="text-center pt-8 mb-6 max-w-4xl mx-auto px-4">
                <h1 class="text-4xl md:text-5xl font-bold mb-2">La Coqueta</h1>
                <p class="text-xl text-gray-600">Validando una nueva experiencia para ti</p>
                <div class="w-24 h-1 gradient-button mx-auto mt-4 mb-6 rounded-full"></div>
            </header>
            <div class="max-w-4xl mx-auto px-4">
                 <div class="flex justify-between items-center text-sm font-semibold text-gray-600 mb-2">
                    <span>Progreso de la Encuesta</span>
                    <span id="progress-text">0%</span>
                </div>
                <div class="w-full bg-pink-100 rounded-full h-4">
                    <div id="progress-bar" class="progress-bar-inner h-4 rounded-full" style="width: 0%;"></div>
                </div>
            </div>
        </div>

        <form id="coqueta-form" class="max-w-4xl mx-auto px-4 py-8">
            <div class="survey-section" data-step="1">
                <div class="section-card rounded-2xl p-6 md:p-8 mb-8 shadow-lg">
                    <h3 class="text-xl font-bold mb-4 text-gray-800">Primero, cuÃ©ntanos un poco sobre ti</h3>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        <div>
                            <label for="nombre" class="block text-gray-700 font-semibold mb-2">Nombre *</label>
                            <input type="text" id="nombre" name="nombre" class="w-full p-3 border-2 border-pink-100 rounded-lg focus:border-pink-500 focus:outline-none transition-colors" required>
                        </div>
                        <div>
                            <label for="apellido" class="block text-gray-700 font-semibold mb-2">Apellido *</label>
                            <input type="text" id="apellido" name="apellido" class="w-full p-3 border-2 border-pink-100 rounded-lg focus:border-pink-500 focus:outline-none transition-colors" required>
                        </div>
                        <div>
                            <label for="correo" class="block text-gray-700 font-semibold mb-2">Correo ElectrÃ³nico *</label>
                            <input type="email" id="correo" name="correo" class="w-full p-3 border-2 border-pink-100 rounded-lg focus:border-pink-500 focus:outline-none transition-colors" required>
                        </div>
                        <div>
                            <label for="telefono" class="block text-gray-700 font-semibold mb-2">TelÃ©fono *</label>
                            <input type="tel" id="telefono" name="telefono" class="w-full p-3 border-2 border-pink-100 rounded-lg focus:border-pink-500 focus:outline-none transition-colors" required>
                        </div>
                    </div>
                    <div class="text-right mt-6">
                        <button type="button" class="next-btn gradient-button text-white font-bold py-2 px-6 rounded-full">Siguiente &rarr;</button>
                    </div>
                </div>
            </div>

            <div class="survey-section hidden" data-step="2">
                <div class="section-card rounded-2xl p-6 md:p-8 mb-8 shadow-lg">
                    <h2 class="text-2xl font-bold mb-6 flex items-center"><span class="bg-pink-100 text-pink-600 rounded-full w-10 h-10 flex items-center justify-center mr-4">1</span>Tu estilo y tu experiencia ğŸ‘—</h2>
                    <div class="mb-6">
                        <label class="block font-semibold mb-3">Â¿CuÃ¡l es tu rango de edad? *</label>
                        <div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-5 gap-3">
                            <input type="radio" name="edad" value="18-24" id="edad-1" class="custom-radio hidden" required><label for="edad-1" class="cursor-pointer p-3 text-center rounded-lg">18â€“24</label>
                            <input type="radio" name="edad" value="25-34" id="edad-2" class="custom-radio hidden"><label for="edad-2" class="cursor-pointer p-3 text-center rounded-lg">25â€“34</label>
                            <input type="radio" name="edad" value="35-44" id="edad-3" class="custom-radio hidden"><label for="edad-3" class="cursor-pointer p-3 text-center rounded-lg">35â€“44</label>
                            <input type="radio" name="edad" value="45-54" id="edad-4" class="custom-radio hidden"><label for="edad-4" class="cursor-pointer p-3 text-center rounded-lg">45â€“54</label>
                            <input type="radio" name="edad" value="55+" id="edad-5" class="custom-radio hidden"><label for="edad-5" class="cursor-pointer p-3 text-center rounded-lg">55+</label>
                        </div>
                    </div>
                    <div class="flex justify-between mt-6">
                        <button type="button" class="prev-btn bg-gray-200 text-gray-700 font-bold py-2 px-6 rounded-full">&larr; Anterior</button>
                        <button type="button" class="next-btn gradient-button text-white font-bold py-2 px-6 rounded-full">Siguiente &rarr;</button>
                    </div>
                </div>
            </div>
            
            <div class="survey-section hidden" data-step="3">
                <div class="section-card rounded-2xl p-6 md:p-8 mb-8 shadow-lg">
                    <h2 class="text-2xl font-bold mb-6 flex items-center"><span class="bg-pink-100 text-pink-600 rounded-full w-10 h-10 flex items-center justify-center mr-4">2</span>Lo que te gustarÃ­a vivir âœ¨</h2>
                    <div class="flex justify-between mt-6">
                        <button type="button" class="prev-btn bg-gray-200 text-gray-700 font-bold py-2 px-6 rounded-full">&larr; Anterior</button>
                        <button type="button" class="next-btn gradient-button text-white font-bold py-2 px-6 rounded-full">Siguiente &rarr;</button>
                    </div>
                </div>
            </div>

            <div class="survey-section hidden" data-step="4">
                <div class="section-card rounded-2xl p-6 md:p-8 mb-8 shadow-lg">
                    <h2 class="text-2xl font-bold mb-6 flex items-center"><span class="bg-pink-100 text-pink-600 rounded-full w-10 h-10 flex items-center justify-center mr-4">3</span>Tu opiniÃ³n cuenta ğŸ’¬</h2>
                     <div class="flex justify-between mt-6">
                        <button type="button" class="prev-btn bg-gray-200 text-gray-700 font-bold py-2 px-6 rounded-full">&larr; Anterior</button>
                        <button type="submit" class="gradient-button text-white font-bold py-3 px-8 rounded-full shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200">
                            âœ¨ Â¡Finalizar y Participar! âœ¨
                        </button>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <div id="success-view" class="hidden text-center section-card rounded-2xl p-8 md:p-12 shadow-2xl max-w-4xl mx-auto">
        <h1 class="text-4xl font-bold text-pink-600 mb-4">Â¡Gracias por tu tiempo!</h1>
        <p class="text-lg text-gray-700 mb-6">Tus respuestas han sido guardadas. Â¡Ya estÃ¡s participando en el sorteo!</p>
        <div class="bg-gradient-to-r from-pink-500 to-purple-600 text-white rounded-lg p-6 max-w-lg mx-auto">
            <h3 class="text-xl font-semibold mb-2">Cuenta Regresiva para el Sorteo</h3>
            <p id="countdown" class="text-3xl font-bold tracking-widest"></p>
        </div>
        <button onclick="resetSurvey()" class="mt-8 bg-white text-pink-600 font-semibold py-2 px-6 border-2 border-pink-500 rounded-full hover:bg-pink-50 transition-colors">
            Volver al inicio
        </button>
    </div>
    
    <div id="dashboard-view" class="hidden container mx-auto px-4 py-8 max-w-7xl">
        </div>
    
    <script src="./app.js"></script>
</body>
</html>
